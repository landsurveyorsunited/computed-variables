<!DOCTYPE html>
<meta charset=utf-8>
<meta name=viewport content="width=device-width, initial-scale=1">
<title>Computed Variables Demo</title>

<style>
  html {
    cursor: none;
    background: #222;
    --innerWidth: 0;
    --innerHeight: 0;
    --cursorX: calc(var(--innerWidth) / 2);
    --cursorY: calc(var(--innerHeight) / 2);
  }
  div {
    width: 50px;
    height: 50px;
    position: fixed;
    border-radius: 100%;
    border-top-left-radius: 0;
    top: calc(var(--cursorY) * 1px);
    left: calc(var(--cursorX) * 1px);
    background: hsl(var(--cursorX), 75%, 50%);
  }
</style>

<div></div>

<script src=../index.browser.js></script>
<script>
  // set innerWidth
  computedVariables(
    '--innerWidth',
    () => window.innerWidth,
    window,
    ['load']
  )

  // set innerHeight
  computedVariables(
    '--innerHeight',
    () => window.innerHeight,
    window,
    ['load']
  )

  // set cursor X position
  computedVariables(
    '--cursorX',
    (v, e) => e.clientX || e.touches[0].clientX,
    window,
    ['mousemove', 'touchmove']
  )

  // set cursorY position
  computedVariables(
    '--cursorY', 
    (v, e) => e.clientY || e.touches[0].clientY,
    window,
    ['mousemove', 'touchmove']
  )
</script>